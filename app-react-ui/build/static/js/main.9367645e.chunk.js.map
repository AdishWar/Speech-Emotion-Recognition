{"version":3,"sources":["Recorder.js","EmotionPanel.js","OutputPanelClass.js","SelectFilePanel.js","App.js","index.js"],"names":["Mp3Recorder","MicRecorder","bitRate","Recorder","props","start","state","isBlocked","alert","then","setState","isRecording","catch","e","console","error","stop","getMp3","blob","blobURL","URL","createObjectURL","log","navigator","getUserMedia","audio","className","this","onClick","src","controls","React","Component","EmotionPanel","OutputPanelClass","emotion","fetching","buttonClick","fetch","response","json","prediction","id","disabled","SelectFilePanel","action","method","encType","type","name","accept","value","App","ReactDOM","render","document","getElementById"],"mappings":"wQAGMA,EAAc,I,OAAIC,GAAY,CAAEC,QAAS,MA2EhCC,E,kDAvEX,WAAYC,GAAO,IAAD,8BACd,cAAMA,IASRC,MAAQ,WACF,EAAKC,MAAMC,UACbC,MAAM,qBAENR,EACGK,QACAI,MAAK,WACJ,EAAKC,SAAS,CAAEC,aAAa,OAC5BC,OAAM,SAACC,GAAD,OAAOC,QAAQC,MAAMF,OAlBpB,EAsBhBG,KAAO,WACLhB,EACGgB,OACAC,SACAR,MAAK,YAAqB,IAAD,mBAAVS,GAAU,WAG3BC,EAAUC,IAAIC,gBAAgBH,GACpC,EAAKR,SAAS,CAAES,UAASR,aAAa,EAAOO,KAAKA,OACxCN,OAAM,SAACC,GAAD,OAAOC,QAAQQ,IAAIT,OA7B9B,EAAKP,MAAQ,CACjBK,aAAa,EACbO,KAAK,GACCC,QAAS,GACTZ,WAAW,GANC,E,gEAkCK,IAAD,OAClBgB,UAAUC,aAAa,CAAEC,OAAO,IAC9B,WACEX,QAAQQ,IAAI,sBACZ,EAAKZ,SAAS,CAAEH,WAAW,OAE7B,WACEO,QAAQQ,IAAI,qBACZ,EAAKZ,SAAS,CAAEH,WAAW,S,+BAM/B,OACI,yBAAKmB,UAAU,YACX,wBAAIA,UAAU,UAAd,8BACZ,2BAAIC,KAAKrB,MAAMa,SAEH,yBAAKO,UAAU,0BAC1B,4BAAQA,UAAU,cAAcE,QAAUD,KAAKrB,MAAMK,YAAgBgB,KAAKX,KAASW,KAAKtB,OAErFsB,KAAKrB,MAAMK,YACX,mCAAGe,UAAU,mBAAb,YAAyC,eACzC,mCAAGA,UAAU,mBAAb,YAAyC,uBAKjC,yBAAKA,UAAU,oBACX,2BAAOA,UAAU,eAAeG,IAAKF,KAAKrB,MAAMa,QAASW,SAAS,mB,GAlE/DC,IAAMC,WCqCdC,ICxCMC,E,4MAEjB5B,MAAQ,CACJ6B,QAAS,cACTC,UAAU,G,EAKdC,YAAc,SAACxB,GACX,EAAKH,SAAS,CAAE0B,UAAU,IAE1BE,MAAM,aACL7B,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,UAC1B/B,MAAK,SAAA8B,GACF,EAAK7B,SAAS,CACVyB,QAASI,EAASE,WAClBL,UAAU,Q,uDAMlB,OACI,yBAAKV,UAAU,gBACX,4BAAKC,KAAKrB,MAAM6B,SAChB,4BACIO,GAAG,eACHhB,UAAYC,KAAKrB,MAAM8B,SAAW,kBAAoB,eACtDO,SAAYhB,KAAKrB,MAAM8B,SACvBR,QAASD,KAAKU,aACRV,KAAKrB,MAAM8B,SAAW,cAAgB,c,GA/BlBL,IAAMC,WCArC,SAASY,IAEpB,OACI,yBAAKlB,UAAU,qBACX,0BAAMmB,OAAO,IAAIC,OAAO,OAAOC,QAAQ,uBAEnC,2BAAOC,KAAK,OAAOC,KAAK,OAAOC,OAAO,SACtC,2BAAOF,KAAK,SAASN,GAAG,eAAehB,UAAU,eAAeyB,MAAM,aCYvEC,MAdf,WACE,OACE,oCAEF,kBAAC,EAAD,MACA,yBAAK1B,UAAU,eAEd,kBAACkB,EAAD,MACA,kBAAC,EAAD,S,MCVHS,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.9367645e.chunk.js","sourcesContent":["import React from 'react';\r\nimport MicRecorder from 'mic-recorder-to-mp3';\r\n\r\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\r\n\r\nclass Recorder extends React.Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n\t\t  isRecording: false,\r\n\t\t  blob:'',\r\n          blobURL: '',\r\n          isBlocked: false,\r\n        };\r\n      }\r\n    \r\n      start = () => {\r\n        if (this.state.isBlocked) {\r\n          alert('Permission Denied');\r\n        } else {\r\n          Mp3Recorder\r\n            .start()\r\n            .then(() => {\r\n              this.setState({ isRecording: true });\r\n            }).catch((e) => console.error(e));\r\n        }\r\n\t  };\r\n    \r\n      stop = () => {\r\n        Mp3Recorder\r\n          .stop()\r\n          .getMp3()\r\n          .then(([buffer, blob]) => {\r\n\t\t\t// console.log(await blob.text())\r\n\t\t\t// console.log(reader.readAsArrayBuffer(blob))\r\n\t\t\tconst blobURL = URL.createObjectURL(blob)\r\n\t\t\tthis.setState({ blobURL, isRecording: false, blob:blob });\r\n          }).catch((e) => console.log(e));\r\n      };\r\n    \r\n      componentDidMount() {\r\n        navigator.getUserMedia({ audio: true },\r\n          () => {\r\n            console.log('Permission Granted');\r\n            this.setState({ isBlocked: false });\r\n          },\r\n          () => {\r\n            console.log('Permission Denied');\r\n            this.setState({ isBlocked: true })\r\n          },\r\n        );\r\n      }\r\n\r\n    render() {\r\n        return(\r\n            <div className='recorder'>\r\n                <h1 className='header'>Speech Emotion Recognition</h1>\r\n\t\t\t\t<p>{this.state.blobURL}</p>\r\n\t\t\t\t{/* <p>{console.log(this.state.blob.prototype.type)}</p> */}\r\n                <div className='play-button-parent-div'>\r\n\t\t\t\t\t<button className=\"play-button\" onClick={(this.state.isRecording) ? (this.stop) : (this.start) }>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(this.state.isRecording)?\r\n\t\t\t\t\t\t\t(<i className='play-button-img' className=\"fa fa-stop\"></i>):\r\n\t\t\t\t\t\t\t(<i className='play-button-img' className=\"fa fa-microphone\"></i>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</button>\r\n\r\n                </div>\r\n                <div className='audio-player-div'>\r\n                    <audio className='audio-player' src={this.state.blobURL} controls=\"controls\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Recorder;\r\n","import React from 'react';\r\nimport EmotionCard from './EmotionCard';\r\nimport emotiondata from './EmotionData'\r\n\r\n// function now redundant\r\n// function emo(data) {\r\n//     return(\r\n//         <EmotionCard \r\n//             key = {data.id}\r\n//             emotion = {data.emotion}\r\n//             probability = {data.probability}\r\n//         />\r\n//     );\r\n// }\r\n\r\nfunction EmotionPanel() {\r\n    return(\r\n        <>\r\n            <div className='emotion-panel'>\r\n                {\r\n                /* <EmotionCard emotion='happiness' probability='0.9' />\r\n                { emo(emotiondata[1]) }\r\n                { emo(emotiondata[2]) }\r\n                { emo(emotiondata[3]) }\r\n                { emo(emotiondata[4]) }\r\n                { emo(emotiondata[5]) } */\r\n                }\r\n\r\n                {\r\n                    emotiondata.map( (data) =>\r\n                    <EmotionCard \r\n                        key = {data.id}\r\n                        emotion = {data.emotion}\r\n                        probability = {data.probability}\r\n                    />\r\n                    )\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default EmotionPanel;","import React from 'react';\r\n\r\nexport default class OutputPanelClass extends React.Component {\r\n\r\n    state = {\r\n        emotion: \"Click below\",\r\n        fetching: false\r\n    }\r\n\r\n    // we have to use arrow functions if we want to reference \"this\" inside functions\r\n    // using arrow functions binds the \"this\" variable to the current class\r\n    buttonClick = (e) => {\r\n        this.setState({ fetching: true })\r\n\r\n        fetch('/api/data')\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            this.setState({\r\n                emotion: response.prediction,\r\n                fetching: false\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className='output-panel'>\r\n                <h1>{this.state.emotion}</h1>\r\n                <button \r\n                    id='fetch-button' \r\n                    className={(this.state.fetching)?('button-fetching'):('button-ready')}\r\n                    disabled = {this.state.fetching}\r\n                    onClick={this.buttonClick}>\r\n                        {(this.state.fetching)?('Fetching...'):('Check')}\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default function SelectFilePanel() {\r\n\r\n    return(\r\n        <div className=\"select-file-panel\">\r\n            <form action=\"#\" method=\"POST\" encType=\"multipart/form-data\">\r\n                {/* <input type=\"file\" class=\"custom-file-input\" /> */}\r\n                <input type=\"file\" name=\"file\" accept=\".mp3\" />\r\n                <input type='submit' id=\"fetch-button\" className=\"button-ready\" value=\"Submit\" />\r\n            </form>\r\n        </div>\r\n    );\r\n}","import React from 'react';\nimport Recorder from './Recorder';\nimport EmotionPanel from './EmotionPanel';\n// import OutputPanel from './OutputPanel';\nimport OutputPanelClass from './OutputPanelClass';\nimport SelectFilePanel from './SelectFilePanel';\n\nfunction App() {\n  return(\n    <>\n\t\t\n\t\t<Recorder />\n\t\t<div className='bottom-part'>\n\t\t\t{/* <EmotionPanel /> */}\n\t\t\t<SelectFilePanel />\n\t\t\t<OutputPanelClass />\n\t\t</div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport './style.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}