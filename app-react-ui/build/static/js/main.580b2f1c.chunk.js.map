{"version":3,"sources":["Recorder.js","EmotionCard.js","EmotionData.jsx","EmotionPanel.js","OutputPanelClass.js","App.js","index.js"],"names":["Mp3Recorder","MicRecorder","bitRate","Recorder","props","start","state","isBlocked","alert","then","setState","isRecording","catch","e","console","error","stop","getMp3","blob","blobURL","URL","createObjectURL","log","navigator","getUserMedia","audio","className","onClick","this","src","controls","React","Component","EmotionCard","emotion","probability","emotiondata","id","EmotionPanel","map","data","key","OutputPanelClass","fetching","buttonClick","fetch","response","json","prediction","disabled","App","ReactDOM","render","document","getElementById"],"mappings":"wQAGMA,EAAc,I,OAAIC,GAAY,CAAEC,QAAS,MAsEhCC,E,kDAlEX,WAAYC,GAAO,IAAD,8BACd,cAAMA,IAQRC,MAAQ,WACF,EAAKC,MAAMC,UACbC,MAAM,qBAENR,EACGK,QACAI,MAAK,WACJ,EAAKC,SAAS,CAAEC,aAAa,OAC5BC,OAAM,SAACC,GAAD,OAAOC,QAAQC,MAAMF,OAjBpB,EAqBhBG,KAAO,WACLhB,EACGgB,OACAC,SACAR,MAAK,YAAqB,IAAD,mBAAVS,GAAU,WAClBC,EAAUC,IAAIC,gBAAgBH,GACpC,EAAKR,SAAS,CAAES,UAASR,aAAa,OACrCC,OAAM,SAACC,GAAD,OAAOC,QAAQQ,IAAIT,OA1B9B,EAAKP,MAAQ,CACXK,aAAa,EACbQ,QAAS,GACTZ,WAAW,GALC,E,gEA+BK,IAAD,OAClBgB,UAAUC,aAAa,CAAEC,OAAO,IAC9B,WACEX,QAAQQ,IAAI,sBACZ,EAAKZ,SAAS,CAAEH,WAAW,OAE7B,WACEO,QAAQQ,IAAI,qBACZ,EAAKZ,SAAS,CAAEH,WAAW,S,+BAM/B,OACI,yBAAKmB,UAAU,YACX,wBAAIA,UAAU,UAAd,8BACA,yBAAKA,UAAU,0BAC1B,4BAAQA,UAAU,cAAcC,QAAUC,KAAKtB,MAAMK,YAAgBiB,KAAKZ,KAASY,KAAKvB,OAErFuB,KAAKtB,MAAMK,YACX,mCAAGe,UAAU,mBAAb,YAAyC,eACzC,mCAAGA,UAAU,mBAAb,YAAyC,uBAKjC,yBAAKA,UAAU,oBACX,2BAAOA,UAAU,eAAeG,IAAKD,KAAKtB,MAAMa,QAASW,SAAS,mB,GA7D/DC,IAAMC,WCOdC,MAVf,SAAqB7B,GACjB,OACI,oCACI,yBAAKsB,UAAU,gBACX,+BAAKtB,EAAM8B,QAAX,MAAuB9B,EAAM+B,YAA7B,QC+BDC,EApCK,CAEhB,CACIC,GAAI,EACJH,QAAS,YACTC,YAAa,KAEjB,CACIE,GAAI,EACJH,QAAS,UACTC,YAAa,IAEjB,CACIE,GAAI,EACJH,QAAS,QACTC,YAAa,IAEjB,CACIE,GAAI,EACJH,QAAS,WACTC,YAAa,IAEjB,CACIE,GAAI,EACJH,QAAS,UACTC,YAAa,KAEjB,CACIE,GAAI,EACJH,QAAS,SACTC,YAAa,KCWNG,MA3Bf,WACI,OACI,oCACI,yBAAKZ,UAAU,iBAWPU,EAAYG,KAAK,SAACC,GAAD,OACjB,kBAAC,EAAD,CACIC,IAAOD,EAAKH,GACZH,QAAWM,EAAKN,QAChBC,YAAeK,EAAKL,oBC/BvBO,E,4MAEjBpC,MAAQ,CACJ4B,QAAS,cACTS,UAAU,G,EAKdC,YAAc,SAAC/B,GACX,EAAKH,SAAS,CACViC,UAAU,IAEdE,MAAM,8BACLpC,MAAK,SAAAqC,GAAQ,OAAIA,EAASC,UAC1BtC,MAAK,SAAAqC,GACF,EAAKpC,SAAS,CACVwB,QAASY,EAASE,WAClBL,UAAU,Q,uDAMlB,OACI,yBAAKjB,UAAU,gBACX,4BAAKE,KAAKtB,MAAM4B,SAChB,4BACIG,GAAG,eACHX,UAAYE,KAAKtB,MAAMqC,SAAW,kBAAoB,eACtDM,SAAYrB,KAAKtB,MAAMqC,SACvBhB,QAASC,KAAKgB,aACRhB,KAAKtB,MAAMqC,SAAW,cAAgB,c,GAhClBZ,IAAMC,WCiBrCkB,MAbf,WACE,OACE,oCAEF,kBAAC,EAAD,MACA,yBAAKxB,UAAU,eACd,kBAAC,EAAD,MACA,kBAAC,EAAD,S,MCRHyB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.580b2f1c.chunk.js","sourcesContent":["import React from 'react';\r\nimport MicRecorder from 'mic-recorder-to-mp3';\r\n\r\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\r\n\r\nclass Recorder extends React.Component {\r\n    \r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n          isRecording: false,\r\n          blobURL: '',\r\n          isBlocked: false,\r\n        };\r\n      }\r\n    \r\n      start = () => {\r\n        if (this.state.isBlocked) {\r\n          alert('Permission Denied');\r\n        } else {\r\n          Mp3Recorder\r\n            .start()\r\n            .then(() => {\r\n              this.setState({ isRecording: true });\r\n            }).catch((e) => console.error(e));\r\n        }\r\n      };\r\n    \r\n      stop = () => {\r\n        Mp3Recorder\r\n          .stop()\r\n          .getMp3()\r\n          .then(([buffer, blob]) => {\r\n            const blobURL = URL.createObjectURL(blob)\r\n            this.setState({ blobURL, isRecording: false });\r\n          }).catch((e) => console.log(e));\r\n      };\r\n    \r\n      componentDidMount() {\r\n        navigator.getUserMedia({ audio: true },\r\n          () => {\r\n            console.log('Permission Granted');\r\n            this.setState({ isBlocked: false });\r\n          },\r\n          () => {\r\n            console.log('Permission Denied');\r\n            this.setState({ isBlocked: true })\r\n          },\r\n        );\r\n      }\r\n\r\n    render() {\r\n        return(\r\n            <div className='recorder'>\r\n                <h1 className='header'>Speech Emotion Recognition</h1>\r\n                <div className='play-button-parent-div'>\r\n\t\t\t\t\t<button className=\"play-button\" onClick={(this.state.isRecording) ? (this.stop) : (this.start) }>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t(this.state.isRecording)?\r\n\t\t\t\t\t\t\t(<i className='play-button-img' className=\"fa fa-stop\"></i>):\r\n\t\t\t\t\t\t\t(<i className='play-button-img' className=\"fa fa-microphone\"></i>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</button>\r\n\r\n                </div>\r\n                <div className='audio-player-div'>\r\n                    <audio className='audio-player' src={this.state.blobURL} controls=\"controls\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Recorder;\r\n","import React from 'react';\r\n\r\nfunction EmotionCard(props) {\r\n    return(\r\n        <>\r\n            <div className='emotion-card'>\r\n                <p> {props.emotion} : {props.probability} </p>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default EmotionCard;","\r\nconst emotiondata = [\r\n\r\n    {\r\n        id: 1,\r\n        emotion: 'Happiness',\r\n        probability: 0.92\r\n    },\r\n    {\r\n        id: 2,\r\n        emotion: 'Sadness',\r\n        probability: 0.1\r\n    },\r\n    {\r\n        id: 3,\r\n        emotion: 'Anger',\r\n        probability: 0.3\r\n    },\r\n    {\r\n        id: 4,\r\n        emotion: 'Surprise',\r\n        probability: 0.6\r\n    },\r\n    {\r\n        id: 5,\r\n        emotion: 'Disgust',\r\n        probability: 0.06\r\n    },\r\n    {\r\n        id: 6,\r\n        emotion: 'Wonder',\r\n        probability: 0.4\r\n    },\r\n\r\n\r\n]\r\n\r\nexport default emotiondata;","import React from 'react';\r\nimport EmotionCard from './EmotionCard';\r\nimport emotiondata from './EmotionData'\r\n\r\n// function now redundant\r\nfunction emo(data) {\r\n    return(\r\n        <EmotionCard \r\n            key = {data.id}\r\n            emotion = {data.emotion}\r\n            probability = {data.probability}\r\n        />\r\n    );\r\n}\r\n\r\nfunction EmotionPanel() {\r\n    return(\r\n        <>\r\n            <div className='emotion-panel'>\r\n                {\r\n                /* <EmotionCard emotion='happiness' probability='0.9' />\r\n                { emo(emotiondata[1]) }\r\n                { emo(emotiondata[2]) }\r\n                { emo(emotiondata[3]) }\r\n                { emo(emotiondata[4]) }\r\n                { emo(emotiondata[5]) } */\r\n                }\r\n\r\n                {\r\n                    emotiondata.map( (data) =>\r\n                    <EmotionCard \r\n                        key = {data.id}\r\n                        emotion = {data.emotion}\r\n                        probability = {data.probability}\r\n                    />\r\n                    )\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default EmotionPanel;","import React from 'react';\r\n\r\nexport default class OutputPanelClass extends React.Component {\r\n\r\n    state = {\r\n        emotion: \"Click below\",\r\n        fetching: false\r\n    }\r\n\r\n    // we have to use arrow functions if we want to reference \"this\" inside functions\r\n    // using arrow functions binds the \"this\" variable to the current class\r\n    buttonClick = (e) => {\r\n        this.setState({\r\n            fetching: true\r\n        })\r\n        fetch('http://127.0.0.1:5000/data')\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            this.setState({\r\n                emotion: response.prediction,\r\n                fetching: false\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className='output-panel'>\r\n                <h1>{this.state.emotion}</h1>\r\n                <button \r\n                    id='fetch-button' \r\n                    className={(this.state.fetching)?('button-fetching'):('button-ready')}\r\n                    disabled = {this.state.fetching}\r\n                    onClick={this.buttonClick}>\r\n                        {(this.state.fetching)?('Fetching...'):('Check')}\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport Recorder from './Recorder';\nimport EmotionPanel from './EmotionPanel';\n// import OutputPanel from './OutputPanel';\nimport OutputPanelClass from './OutputPanelClass';\n\nfunction App() {\n  return(\n    <>\n\t\t\n\t\t<Recorder />\n\t\t<div className='bottom-part'>\n\t\t\t<EmotionPanel />\n\t\t\t<OutputPanelClass />\n\t\t</div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\nimport './style.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}